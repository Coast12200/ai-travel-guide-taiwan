# 使用者指南

歡迎使用 AI 台灣旅遊指南！本指南將幫助您快速上手並充分利用所有功能。

---

## 目錄

- [快速開始](#快速開始)
- [功能詳解](#功能詳解)
- [常見問題](#常見問題)
- [使用技巧](#使用技巧)
- [故障排除](#故障排除)

---

## 快速開始

### 第一步：設定 API 金鑰

1. **取得 Google Gemini API Key** (必需)
   - 前往 [Google AI Studio](https://aistudio.google.com/app/apikey)
   - 登入您的 Google 帳號
   - 點擊「Create API Key」
   - 複製生成的 API Key

2. **在應用程式中輸入 API Key**
   - 找到「🔑 API 金鑰設定」區域
   - 將 API Key 貼到「Google Gemini API」輸入框
   - 點擊「驗證」按鈕
   - 看到「✓ 驗證成功」即可開始使用

3. **可選 API 設定**
   - **中央氣象署 API**: 用於天氣預報功能
   - **TDX API**: 用於更豐富的景點資訊

### 第二步：選擇景點

1. **瀏覽景點**
   - 在「🌏 選擇探索國度」區域瀏覽台灣各地景點
   - 點擊「台灣」標籤查看所有景點

2. **搜尋景點**
   - 使用搜尋框快速找到特定景點
   - 支援景點名稱、城市名稱搜尋
   - 按 `/` 鍵快速聚焦搜尋框

3. **選擇景點**
   - 點擊景點卡片查看詳細資訊
   - 點擊「❤️」將景點加入收藏
   - 在「我的收藏」中管理收藏的景點

### 第三步：生成行程

1. **輸入旅行偏好**
   - 在「💡 AI 行程規劃師」區域輸入您的偏好
   - 例如：「親子友善」、「美食探索」、「文青慢活」

2. **設定基本資訊**
   - **目的地**: 選擇台灣
   - **人數**: 輸入旅行人數
   - **日期**: 選擇出發日期
   - **時長**: 選擇單日遊或多日遊

3. **選擇行程類型**
   - **☀️ 晴天漫遊**: 戶外景點、陽光明媚
   - **🌧️ 雨天備案**: 室內活動、避雨好去處
   - **🔮 隨機探索**: AI 隨機挑選驚喜景點
   - **📅 多日行程**: 深度旅遊，2-7 天

4. **展開更多設定** (可選)
   - 點擊「⚙️ 更多設定」
   - 調整時間、預算、交通方式等參數

5. **生成行程**
   - 點擊選擇的行程類型按鈕
   - 等待 AI 生成行程（約 10-30 秒）
   - 查看生成的行程內容

---

## 功能詳解

### 🗺️ 地圖功能

#### 查看地圖
1. 生成行程後，自動顯示地圖
2. 地圖上標示所有景點位置

### 📖 景點故事

#### 查看景點介紹
1. 點擊景點卡片
2. 在「📖 景點故事集」區域查看 AI 生成的介紹
3. 包含歷史背景、文化意義、旅遊建議

#### AI 增強功能
- **🎨 生成景點插畫**: AI 生成景點代表性插畫
- **🧳 行囊準備清單**: 旅行必備物品清單
- **🍲 在地美食推薦**: 附近美食餐廳推薦
- **🏨 尋找附近住宿**: 住宿選項建議
- **📝 網路評論摘要**: AI 摘要網路評論
- **🎁 伴手禮推薦**: 特色伴手禮建議

### 💰 旅費估算

#### 使用旅費估算
1. 在「更多設定」中設定：
   - **預算等級**: 節儉/舒適/豪華
   - **餐飲偏好**: 當地小吃/普通餐廳/高檔餐廳

2. 點擊「💰 估算旅費」按鈕

3. AI 將提供：
   - 總預算估算
   - 各項費用分配（交通、餐飲、住宿、門票）
   - 省錢建議

### 📅 匯出行程

#### 匯出格式

1. **PDF 格式**
   - 完整的行程文件
   - 包含地圖、景點資訊
   - 適合列印

2. **iCalendar (.ics)**
   - 匯入到日曆應用程式
   - 支援 Apple Calendar、Google Calendar、Outlook

3. **Google Calendar**
   - 直接加入 Google 日曆
   - 自動設定提醒

4. **CSV 格式**
   - 表格格式
   - 可用 Excel 開啟

5. **純文字 (.txt)**
   - 簡單的文字格式
   - 易於分享

#### 匯出步驟
1. 生成行程後，點擊「📅 匯出行程」
2. 選擇匯出格式
3. 下載檔案

### 🎤 語音輸入

#### 使用語音輸入
1. 點擊麥克風圖示 🎤
2. 允許瀏覽器使用麥克風
3. 說出您的旅行偏好
4. 語音自動轉換為文字

> **注意**: 需要瀏覽器支援 Web Speech API (Chrome、Edge 支援較好)

### 📷 圖像參考

#### 上傳圖片
1. 在「更多設定」中找到「📷 視覺參考」
2. 點擊「選擇檔案」上傳圖片
3. 點擊「附加到 AI」
4. AI 將分析圖片的：
   - 主要色調
   - 構圖風格
   - 視覺氛圍

5. 這些視覺元素將融入行程建議

### 🔄 行程優化

#### 優化現有行程
1. 生成行程後，點擊「優化行程」
2. 輸入優化需求（例如：「增加美食景點」）
3. AI 將改進行程並顯示變更

#### 版本歷史
1. 點擊「版本歷史」按鈕
2. 查看所有歷史版本
3. 點擊「恢復」回到之前的版本
4. 比較不同版本的差異

### 🌙 深色模式

#### 啟用深色模式
1. 點擊右上角「🌙 夜間模式」按鈕
2. 介面切換為深色主題
3. 再次點擊切換回淺色模式

> **提示**: 深色模式設定會自動儲存

### 🌐 語言切換

#### 切換語言
1. 點擊右上角「🌐 EN」按鈕
2. 介面切換為英文
3. 再次點擊切換回中文

### ❤️ 我的收藏

#### 管理收藏
1. 點擊右上角「❤️ 我的收藏」
2. 查看所有收藏的景點
3. 點擊景點查看詳情
4. 點擊「移除」取消收藏

---

## 使用技巧

### 💡 提示與技巧

#### 1. 善用搜尋功能
- 按 `/` 鍵快速聚焦搜尋框
- 搜尋支援模糊匹配
- 可以搜尋城市名稱找到該城市所有景點

#### 2. 自訂景點
- 點擊「+ 新增自訂景點」
- 添加未收錄的私房景點
- 自訂景點也會出現在行程中

#### 3. 詳細的偏好描述
- 越詳細的偏好描述，AI 生成的行程越符合需求
- 好的範例：「適合帶 5 歲小孩的親子行程，喜歡戶外活動，預算中等」
- 不好的範例：「好玩」

#### 4. 使用離線模式
- 在「進階設定」中啟用「始終離線模式」
- 使用內建的備援景點資料
- 適合網路不穩定時使用

#### 5. 快速導航
- 使用左側圓形選單快速跳轉到不同區域
- 使用右側上下箭頭快速回到頂部或底部

#### 6. 保存 API Key
- API Key 會自動儲存在瀏覽器本地
- 下次使用時不需要重新輸入
- 如需更換，直接輸入新的 Key 即可

#### 7. 利用天氣資訊
- 設定 CWA API Key 後可查看天氣預報
- AI 會根據天氣調整行程建議
- 天氣警報會自動顯示在頂部

#### 8. 交通規劃
- 點擊「🚗 交通規劃」查看詳細交通建議
- 包含大眾運輸、駕車路線

#### 9. 旅行日記
- 旅行後可以生成旅行日記
- 包含行程回顧、照片、心得
- 可匯出為 PDF 保存

---

## 常見問題

### Q: 需要付費嗎？
**A**: 應用程式本身完全免費。但需要自行申請免費的 API Key：
- Google Gemini API: 免費額度每分鐘 15 次請求
- CWA API: 免費額度每日 5,000 次請求
- TDX API: 免費額度每日 20,000 次請求

### Q: API Key 安全嗎？
**A**: API Key 只儲存在您的瀏覽器本地儲存 (localStorage) 中，不會傳送到任何伺服器。您可以隨時清除瀏覽器資料來移除 Key。

### Q: 可以離線使用嗎？
**A**: 部分功能可以離線使用：
- 瀏覽內建的備援景點資料
- 查看已快取的行程
- 但 AI 生成功能需要網路連線

### Q: 支援哪些瀏覽器？
**A**: 建議使用現代瀏覽器：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### Q: 行程可以修改嗎？
**A**: 可以！使用「改進行程」功能，告訴 AI 您想要的修改，AI 會重新調整行程。

### Q: 可以分享行程給朋友嗎？
**A**: 可以！匯出為 PDF 或純文字格式，然後透過任何方式分享。

### Q: 語音輸入不能用？
**A**: 語音輸入需要：
1. 瀏覽器支援 Web Speech API (建議使用 Chrome)
2. 允許瀏覽器使用麥克風權限
3. 網路連線

### Q: 為什麼有些景點沒有圖片？
**A**: 部分景點可能沒有提供圖片，或圖片載入失敗。您可以：
1. 使用「生成景點插畫」功能讓 AI 生成插畫
2. 新增自訂景點時提供圖片 URL

### Q: 行程生成失敗怎麼辦？
**A**: 可能的原因和解決方法：
1. **API Key 無效**: 重新驗證 API Key
2. **超過速率限制**: 等待幾分鐘後重試
3. **網路問題**: 檢查網路連線
4. **偏好描述太複雜**: 簡化偏好描述

### Q: 可以規劃台灣以外的行程嗎？
**A**: 目前專注於台灣旅遊，但技術上可以擴展到其他地區。未來版本可能會支援。

---

## 故障排除

### 問題：API Key 驗證失敗

**可能原因**:
- API Key 輸入錯誤
- API Key 已過期
- 網路連線問題

**解決方法**:
1. 檢查 API Key 是否完整複製（沒有多餘空格）
2. 前往 Google AI Studio 重新生成 Key
3. 檢查網路連線
4. 清除瀏覽器快取後重試

### 問題：行程生成很慢

**可能原因**:
- 網路速度慢
- Gemini API 回應慢
- 複雜的行程需求

**解決方法**:
1. 檢查網路速度
2. 簡化行程需求
3. 減少天數或景點數量
4. 稍後重試

### 問題：地圖無法顯示

**可能原因**:
- 景點沒有座標資訊
- Leaflet 載入失敗
- 瀏覽器不支援

**解決方法**:
1. 重新整理頁面
2. 檢查瀏覽器控制台錯誤訊息
3. 更新瀏覽器到最新版本

### 問題：匯出功能不能用

**可能原因**:
- 瀏覽器阻擋下載
- PDF 生成失敗

**解決方法**:
1. 允許瀏覽器下載檔案
2. 嘗試其他匯出格式
3. 清除瀏覽器快取

### 問題：深色模式顯示異常

**可能原因**:
- CSS 載入失敗
- 瀏覽器快取問題

**解決方法**:
1. 重新整理頁面 (Ctrl+F5 強制重新載入)
2. 清除瀏覽器快取
3. 切換回淺色模式再切換回來

### 問題：收藏的景點消失了

**可能原因**:
- 清除了瀏覽器資料
- 使用無痕模式

**解決方法**:
1. 避免清除瀏覽器 localStorage
2. 不要使用無痕模式（資料不會保存）
3. 定期匯出重要行程

---

## 鍵盤快捷鍵

| 快捷鍵 | 功能 |
|--------|------|
| `/` | 聚焦搜尋框 |
| `Esc` | 關閉模態框 |
| `Ctrl+K` | 開啟快速導航 |

---

## 獲取幫助

### 需要協助？

1. **查看文檔**
   - [API 文檔](docs/API.md)
   - [架構文檔](docs/ARCHITECTURE.md)

2. **回報問題**
   - 前往 [GitHub Issues](https://github.com/your-username/ai-travel-guide-taiwan/issues)
   - 描述問題並附上截圖

3. **功能建議**
   - 開啟 Feature Request
   - 說明您希望的功能

---

## 更新日誌

查看 [README.md](../README.md#更新日誌) 了解最新功能和改進。

---

**祝您旅途愉快！🎉**

如有任何問題或建議，歡迎聯繫我們。
